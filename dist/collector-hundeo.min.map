{"version":3,"sources":["collector-hundeo.js"],"names":["console","clear","scrollingElement","document","body","current","scrollHeight","last","autoScrollToBottom","getItem","log","sessionStorage","setItem","setTimeout","clearInterval","removeItem","autoScrollToTop","top","documentElement","scrollTop","scrollTo","window","requestAnimationFrame","getPageDetails","collection","content","querySelectorAll","itemContainer","item","image","firstElementChild","imageSplit","imageSrc","split","imageClean","source","nameContainer","textContent","nameText","imageURL","resetCollectionId","name","array","save","data","filename","index","error","executeScrapping","removeCollector","collector","querySelector","remove","hyperlink","blob","downloadurl","location","href","view","bubbles","JSON","stringify","undefined","dispatchEvent","simulatedClick","createEvent","createElement","URL","createObjectURL","download","join","MouseEvent","cancelable"],"mappings":"8PACAA,SAAQC,qBAIN,IAAIC,EAAmBC,SAASD,kBAAoBC,SAASC,KAF/DC,EAAAH,EAAAI,aACAC,EAASC,eAAkBC,QAAG,MAAA,EAEdP,EAAVG,GAAUH,GAAgBK,IAC9BP,QAAQU,IAAGC,gBAAeF,EAE1BP,EAAmBG,UAAWE,EAAMD,aAClCN,eAAYY,QAAA,OAAiBV,EAAAI,YAAA,EAE7BK,WAAAA,WAEAE,mBAAW,CAEX,EADEL,GAAAA,GAIU,EAAVH,GAAeA,GAAWE,IAC5BO,cAAcN,kBAAkB,EAChCG,eAAeI,WAAW,MAAM,EAChCf,QAAQU,IAAI,iBAAiB,EAG7BM,gBAAgB,EAEpB,CAEA,SACSA,kBAEP,IAAIC,EAAMd,SAAGe,gBAAAC,WAAAhB,SAAAC,KAAAe,UAEJC,EAAPC,GACDA,OAAMC,sBAAAN,eAAA,EACLH,OAAAA,SAAW,EAAAI,EAAMA,EAAA,GAAA,GAAjBJ,WAEEU,WAEJA,eAAA,CACF,EAAA,GAAA,CAEA,CACA,SAEQC,iBAENC,IAAAA,EAAgBtB,SAAAuB,iBAAiB,YAAA,EAC/B1B,EAAY,GADdyB,EAIME,QAAAA,SAAAA,EAAgBC,GAEpB5B,QAAI6B,IAAQF,cAAcG,EAE1B,IAAIC,EAAAA,OAAaC,SAASC,KACtBC,EAAaH,EAAAA,kBAQfI,EALEC,EAAgBT,kBAAcG,kBACnBM,aAAcC,QAAW,EAE7BJ,MAAA,GAAA,EACA,GAAAA,MAAA,GAAA,EACK,GAGfK,EADQC,EAAAA,kBAAAA,mBACRF,YAWLb,EAASgB,KARL,CAEFxC,GAAQU,EACR8B,OAAAA,EACAC,KAAAH,EACFT,MAAAU,CARI,CAWKC,CACPE,CAAAA,EAEA1C,QAAEU,IAAA,eAAA,EAEFV,kBAAkBwB,EAAC,IAAA,CAErB,CAGAxB,SAAQ2C,kBAAiBC,EAAMC,GAC7BH,EAAKE,QAAM,SAAAhB,EAAAkB,GACT9C,EAAAA,GAAQ+C,CATV,CAAC,EAED/C,QAUEA,KAAW0C,CAAC,CARhB,CA4CA,SAASM,mBACPhD,QAAQC,MAAM,EAGd,OADAO,mBAAmB,EADN,YAGf,CAEA,SAASyC,kBACP,IAAIC,EAAY/C,SAASgD,cAAc,gBAAgB,EAEnDD,IACFA,EAAUE,OAAO,EACjBpD,QAAQC,MAAM,EAElB,CA/IAD,QAAQC,MAAM,EAwFdD,QAYE2C,KAAA,SAAAC,EAAAC,GAEA,IAyBDQ,EAzBKC,GAIFD,QAAAA,IAAYlD,uBAAuB,EAIrCkD,EAAAA,GAAkBE,GAAAA,OAAWlC,OAC3BmC,SAAWC,KACXJ,kBAAAA,EAKY,WAAZK,QAAMrC,CAAM,IACZsC,EAAOC,KAAEC,UAAIjB,EAAAkB,KAAAA,EAAA,CAAA,GAIfT,EAAUU,IAAAA,KAAAA,CAAAA,GAAcC,CAExBnD,KAAU,WACRoC,CAAAA,EACM9C,SAAA8D,YAAA,aAAA,GACTZ,EAAAlD,SAAA+D,cAAA,GAAA,GAGSjE,SAAO4C,EACfQ,EAAUI,KAAGpC,OAAA8C,IAAYC,gBAAAd,CAAA,EACzB9C,EAAAA,QAAkB+C,YAAE,CACpB,YACFF,EAAAgB,SAEAhB,EAASJ,MACPqB,KAAIpB,GAAAA,EAGFA,EAAkB,IAAAqB,WAAA,QAAA,CAClBvE,KAAAA,OACF2D,QAAA,CAAA,EACFa,WAAA,CAAA,CAEAxB,CAAAA,EAvBEK,EAAUU,cAAcC,CAAc,EAEtCnD,WAAW,WACToC,gBAAgB,CAClB,EAAG,GAAI,GApCLjD,QAaQ+C,MAAA,uBAAA,CAwBZ,EAkBAC,iBAAiB","file":"collector-hundeo.min.js","sourcesContent":["// Clear console before logging new data\r\nconsole.clear();\r\n\r\n// Auto Scroll to Bottom of Page\r\nfunction autoScrollToBottom() {\r\n  let scrollingElement = document.scrollingElement || document.body;\r\n  let current = scrollingElement.scrollHeight;\r\n  let last = sessionStorage.getItem(\"last\");\r\n\r\n  if (current > 0 && current != last) {\r\n    console.log(\"Auto-scroll On\");\r\n    scrollingElement.scrollTop = scrollingElement.scrollHeight;\r\n    sessionStorage.setItem(\"last\", scrollingElement.scrollHeight);\r\n\r\n    setTimeout(() => {\r\n      autoScrollToBottom();\r\n    }, 1000);\r\n  }\r\n\r\n  if (current > 0 && current == last) {\r\n    clearInterval(autoScrollToBottom);\r\n    sessionStorage.removeItem(\"last\");\r\n    console.log(\"Auto-scroll Off\");\r\n\r\n    // Auto Scroll to Top of Page\r\n    autoScrollToTop();\r\n  }\r\n}\r\n\r\nfunction autoScrollToTop() {\r\n  let top = document.documentElement.scrollTop || document.body.scrollTop;\r\n\r\n  if (top > 0) {\r\n    window.requestAnimationFrame(autoScrollToTop);\r\n    window.scrollTo(0, top - top / 120);\r\n  } else {\r\n    setTimeout(() => {\r\n      // Calling Scrapping Function\r\n      getPageDetails();\r\n    }, 3000);\r\n  }\r\n}\r\n\r\n// Hundeo.com Scraping\r\nfunction getPageDetails() {\r\n  const content = document.querySelectorAll(\".grid-item\");\r\n  const collection = [];\r\n\r\n  content.forEach((item, index) => {\r\n    console.log(\"Scrapping On\");\r\n\r\n    let source = window.location.href;\r\n    let itemContainer = item.firstElementChild;\r\n\r\n    let image = itemContainer.firstElementChild.firstElementChild;\r\n    let imageSrc = image.getAttribute(\"srcset\");\r\n    let imageSplit = imageSrc.split(\",\");\r\n    let imageClean = imageSplit[0].split(\" \");\r\n    let imageURL = imageClean[0];\r\n\r\n    let nameContainer = itemContainer.firstElementChild.nextElementSibling;\r\n    let nameText = nameContainer.textContent;\r\n\r\n    let data = {\r\n      id: index,\r\n      source: source,\r\n      name: nameText,\r\n      image: imageURL,\r\n    };\r\n\r\n    collection.push(data);\r\n  });\r\n\r\n  console.log(\"Scrapping Off\");\r\n  resetCollectionId(collection, \"id\");\r\n  // console.log(\"Collection =>\", collection);\r\n}\r\n\r\n// Modified Reset Array id Based from https://stackoverflow.com/questions/12482961/change-values-in-array-when-doing-foreach\r\nfunction resetCollectionId(array, key) {\r\n  array.forEach((item, index) => {\r\n    item[key] = index;\r\n  });\r\n\r\n  console.save(array);\r\n  // console.log(\"Collection Reset =>\", array);\r\n}\r\n\r\n// Based from https://github.com/edubey/browser-console-crawl/blob/master/single-story.js\r\nconsole.save = function (data, filename) {\r\n  if (!data) {\r\n    console.error(\"Console.save: No data\");\r\n    return;\r\n  } else {\r\n    console.log(\"Collection Downloaded\");\r\n  }\r\n\r\n  if (!filename) filename = `${window.location.href}_Collection.json`;\r\n\r\n  if (typeof data === \"object\") {\r\n    data = JSON.stringify(data, undefined, 4);\r\n  }\r\n\r\n  let blob = new Blob([data], {\r\n      type: \"text/json\",\r\n    }),\r\n    event = document.createEvent(\"MouseEvents\"),\r\n    hyperlink = document.createElement(\"a\");\r\n\r\n  hyperlink.download = filename;\r\n  hyperlink.href = window.URL.createObjectURL(blob);\r\n  hyperlink.dataset.downloadurl = [\r\n    \"text/json\",\r\n    hyperlink.download,\r\n    hyperlink.href,\r\n  ].join(\":\");\r\n\r\n  let simulatedClick = new MouseEvent(\"click\", {\r\n    view: window,\r\n    bubbles: true,\r\n    cancelable: true,\r\n  });\r\n\r\n  hyperlink.dispatchEvent(simulatedClick);\r\n\r\n  setTimeout(() => {\r\n    removeCollector();\r\n  }, 5000);\r\n};\r\n\r\nfunction executeScrapping() {\r\n  console.clear();\r\n  let active = \"Ninja Mode\";\r\n  autoScrollToBottom();\r\n  return active;\r\n}\r\n\r\nfunction removeCollector() {\r\n  let collector = document.querySelector(\"#fb-collect-sc\");\r\n\r\n  if (collector) {\r\n    collector.remove();\r\n    console.clear();\r\n  }\r\n}\r\n\r\nexecuteScrapping();\r\n"]}