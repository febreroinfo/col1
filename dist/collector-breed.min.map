{"version":3,"sources":["collector-breed.js"],"names":["console","clear","scrollingElement","document","body","current","scrollHeight","last","autoScrollToBottom","getItem","log","sessionStorage","setItem","setTimeout","clearInterval","removeItem","autoScrollToTop","top","documentElement","scrollTop","scrollTo","window","requestAnimationFrame","getPageDetails","collection","collectionChildren","querySelectorAll","source","content","itemContainer","location","firstElementChild","push","item","children","innerText","split","itemContainerChildren","flat","forEach","child","index","nameText","url","data","href","array","resetCollectionId","name","save","key","error","executeScrapping","removeCollector","collector","querySelector","remove","blob","filename","hyperlink","type","download","simulatedClick","concat","MouseEvent","bubbles","cancelable","stringify","undefined","Blob","createEvent","URL","createObjectURL","active","downloadurl","join","view","dispatchEvent"],"mappings":"8PACAA,SAAQC,qBAIN,IAAIC,EAAmBC,SAASD,kBAAoBC,SAASC,KAF/DC,EAAAH,EAAAI,aACAC,EAASC,eAAkBC,QAAG,MAAA,EAEdP,EAAVG,GAAUH,GAAgBK,IAC9BP,QAAQU,IAAGC,gBAAeF,EAE1BP,EAAmBG,UAAWE,EAAMD,aAClCN,eAAYY,QAAA,OAAiBV,EAAAI,YAAA,EAE7BK,WAAAA,WAEAE,mBAAW,CAEX,EADEL,GAAAA,GAIU,EAAVH,GAAeA,GAAWE,IAC5BO,cAAcN,kBAAkB,EAChCG,eAAeI,WAAW,MAAM,EAChCf,QAAQU,IAAI,iBAAiB,EAG7BM,gBAAgB,EAEpB,CAEA,SACSA,kBAEP,IAAIC,EAAMd,SAAGe,gBAAAC,WAAAhB,SAAAC,KAAAe,UAEJC,EAAPC,GACDA,OAAMC,sBAAAN,eAAA,EACLH,OAAAA,SAAW,EAAAI,EAAMA,EAAA,GAAA,GAAjBJ,WAEEU,WAEJA,eAAA,CACF,EAAA,GAAA,CAEA,CACA,SAEQC,iBACN,IAAIC,EAAAA,SAAqBC,iBAAE,UAAA,EAEvBC,EAAe,GAEnBC,EAAgB,GAGdD,EAAIE,OAAaC,SAAQC,KAH3BH,EAMEH,QAAAA,SAAAA,EAAmBO,GACnBhC,QAAAU,IAAA,cAAA,EAGFe,EADAQ,EAAAF,kBAC4CG,SAG1CT,EAAiBU,KAAAA,MAAUC,KAAMC,CAAI,CAAA,CANvC,CAAC,GAGDZ,EAQaA,EAAAa,KAAA,CAAA,GAEKC,QAAA,SAAAC,EAAAC,GAPhB,IASCC,EADMC,EAAAA,UAAAA,MAAAA,GAAAA,EACN,GAEDnB,EAAUgB,EAAMI,WAAKC,KAUvBC,EAAad,KAPD,CACZe,GAAAA,EACApB,OAAAA,EACFqB,KAAAN,EATMC,IAAKA,CAWX,CAEgB,CATd,CAAC,EAaD3C,QAAQiD,IAAI,eAAO,EACnBF,kBAAAvB,EAAA,IAAA,CATF,CAGA,SAWOoB,kBAAME,EAAAI,GAVXJ,EAWE9C,QAAQmD,SAAKlB,EAACQ,GACdR,EAAAiB,GAAAT,CACF,CAAC,EAEDzC,QAAAiD,KAAAH,CAAA,CATF,CA4CA,SAASM,mBACPpD,QAAQC,MAAM,EAGd,OADAO,mBAAmB,EADN,YAGf,CAEA,SAAS6C,kBACP,IAAIC,EAAYnD,SAASoD,cAAc,gBAAgB,EAEnDD,IACFA,EAAUE,OAAO,EACjBxD,QAAQC,MAAM,EAElB,CApJAD,QAAQC,MAAM,EA6FdD,QAcMyD,KAAO,SAAUb,EAAOc,GAb5B,IAwCFC,EA1BMC,GAKJD,QAAUE,IAAAA,uBAAmB,EAQzBC,EAAAA,GAAiB,GAAAC,OAAIC,OAAWlC,SAASe,KAAA,kBAAA,EAE9B,WAAboB,QAASrB,CAAI,IACbsB,EAAAA,KAAYC,UAAAvB,EAAAwB,KAAAA,EAAA,CAAA,GAKdvD,EAAW,IAAAwD,KAAA,CAAAzB,GAAM,CACfS,KAAAA,WACD,CAAE,EACJlD,SAAAmE,YAAA,aAAA,GAEDX,EAASP,SAAgBA,cAAG,GAAA,GAEhBS,SAAGH,EACblD,EAAAA,KAAAA,OAAoB+D,IAAAC,gBAAAf,CAAA,EACpBE,EAAOc,QAAMC,YAAA,CACf,YAEAf,EAASN,SACPM,EAAIL,MAEJqB,KAAIrB,GAAAA,EAEFtD,EAAe,IAAAgE,WAAA,QAAA,CACjBY,KAAAvD,OACF4C,QAAA,CAAA,EAEAb,WAAgB,CAAA,CAzBd,CAAC,EAEDO,EAAUkB,cAAcf,CAAc,EAEtCjD,WAAW,WACTwC,gBAAgB,CAClB,EAAG,GAAI,GAtBLrD,QAAEmD,MAAA,uBAAA,CAuBN,EAkBAC,iBAAiB","file":"collector-breed.min.js","sourcesContent":["// Clear console before logging new data\r\nconsole.clear();\r\n\r\n// Auto Scroll to Bottom of Page\r\nfunction autoScrollToBottom() {\r\n  let scrollingElement = document.scrollingElement || document.body;\r\n  let current = scrollingElement.scrollHeight;\r\n  let last = sessionStorage.getItem(\"last\");\r\n\r\n  if (current > 0 && current != last) {\r\n    console.log(\"Auto-scroll On\");\r\n    scrollingElement.scrollTop = scrollingElement.scrollHeight;\r\n    sessionStorage.setItem(\"last\", scrollingElement.scrollHeight);\r\n\r\n    setTimeout(() => {\r\n      autoScrollToBottom();\r\n    }, 1000);\r\n  }\r\n\r\n  if (current > 0 && current == last) {\r\n    clearInterval(autoScrollToBottom);\r\n    sessionStorage.removeItem(\"last\");\r\n    console.log(\"Auto-scroll Off\");\r\n\r\n    // Auto Scroll to Top of Page\r\n    autoScrollToTop();\r\n  }\r\n}\r\n\r\nfunction autoScrollToTop() {\r\n  let top = document.documentElement.scrollTop || document.body.scrollTop;\r\n\r\n  if (top > 0) {\r\n    window.requestAnimationFrame(autoScrollToTop);\r\n    window.scrollTo(0, top - top / 120);\r\n  } else {\r\n    setTimeout(() => {\r\n      // Calling Scrapping Function\r\n      getPageDetails();\r\n    }, 3000);\r\n  }\r\n}\r\n\r\n// https://en.wikipedia.org/wiki/List_of_dog_breeds Scraping\r\nfunction getPageDetails() {\r\n  const content = document.querySelectorAll(\".div-col\");\r\n  const collection = [];\r\n  let collectionChildren = [];\r\n\r\n  let source = window.location.href;\r\n\r\n  content.forEach((item, index) => {\r\n    console.log(\"Scrapping On\");\r\n\r\n    let itemContainer = item.firstElementChild;\r\n    let itemContainerChildren = itemContainer.children;\r\n\r\n    collectionChildren.push(Array.from(itemContainerChildren));\r\n  });\r\n\r\n  // Merge/flatten an array of arrays based from https://stackoverflow.com/questions/10865025/merge-flatten-an-array-of-arrays\r\n  collectionChildren = collectionChildren.flat(1);\r\n\r\n  collectionChildren.forEach((child, index) => {\r\n    let name = child.innerText.split(\"[\");\r\n    let nameText = name[0];\r\n    let url = child.firstChild.href;\r\n\r\n    let data = {\r\n      id: index,\r\n      source: source,\r\n      name: nameText,\r\n      url: url,\r\n    };\r\n\r\n    collection.push(data);\r\n  });\r\n\r\n  console.log(\"Scrapping Off\");\r\n  resetCollectionId(collection, \"id\");\r\n  // console.log(\"Collection =>\", collection);\r\n}\r\n\r\n// Modified Reset Array id Based from https://stackoverflow.com/questions/12482961/change-values-in-array-when-doing-foreach\r\nfunction resetCollectionId(array, key) {\r\n  array.forEach((item, index) => {\r\n    item[key] = index;\r\n  });\r\n\r\n  console.save(array);\r\n  // console.log(\"Collection Reset =>\", array);\r\n}\r\n\r\n// Based from https://github.com/edubey/browser-console-crawl/blob/master/single-story.js\r\nconsole.save = function (data, filename) {\r\n  if (!data) {\r\n    console.error(\"Console.save: No data\");\r\n    return;\r\n  } else {\r\n    console.log(\"Collection Downloaded\");\r\n  }\r\n\r\n  if (!filename) filename = `${window.location.href}_Collection.json`;\r\n\r\n  if (typeof data === \"object\") {\r\n    data = JSON.stringify(data, undefined, 4);\r\n  }\r\n\r\n  let blob = new Blob([data], {\r\n      type: \"text/json\",\r\n    }),\r\n    event = document.createEvent(\"MouseEvents\"),\r\n    hyperlink = document.createElement(\"a\");\r\n\r\n  hyperlink.download = filename;\r\n  hyperlink.href = window.URL.createObjectURL(blob);\r\n  hyperlink.dataset.downloadurl = [\r\n    \"text/json\",\r\n    hyperlink.download,\r\n    hyperlink.href,\r\n  ].join(\":\");\r\n\r\n  let simulatedClick = new MouseEvent(\"click\", {\r\n    view: window,\r\n    bubbles: true,\r\n    cancelable: true,\r\n  });\r\n\r\n  hyperlink.dispatchEvent(simulatedClick);\r\n\r\n  setTimeout(() => {\r\n    removeCollector();\r\n  }, 5000);\r\n};\r\n\r\nfunction executeScrapping() {\r\n  console.clear();\r\n  let active = \"Ninja Mode\";\r\n  autoScrollToBottom();\r\n  return active;\r\n}\r\n\r\nfunction removeCollector() {\r\n  let collector = document.querySelector(\"#fb-collect-sc\");\r\n\r\n  if (collector) {\r\n    collector.remove();\r\n    console.clear();\r\n  }\r\n}\r\n\r\nexecuteScrapping();\r\n"]}